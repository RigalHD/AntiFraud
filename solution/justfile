set windows-powershell := true

run:
    just down
    docker compose -f compose.local-run.yaml up --build

tests:
    docker compose -f compose.tests.yaml up --build
    just down

down:
    docker compose -f compose.local-run.yaml down
    docker compose -f compose.tests.yaml down

clear:
    docker compose -f compose.local-run.yaml down -v

lint:
    ruff format
    ruff check --fix
    mypy --strict

migration *ARGS:
    docker exec -it antifraud-backend backend migrations autogenerate "{{ARGS}}"