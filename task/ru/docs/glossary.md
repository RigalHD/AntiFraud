# Словарь терминов

Короткие определения для школьников. Не нужно знать все заранее — по мере работы возвращайтесь сюда.

## API / REST

Способ взаимодействия программ по сети. В нашем задании — HTTP-запросы и JSON-ответы.

## Endpoint (эндпоинт)

Конкретный URL + метод (например, `GET /api/v1/ping`).

## HTTP метод (GET/POST/PUT/DELETE)

- `GET` — получить данные.
- `POST` — создать ресурс или выполнить действие.
- `PUT` — полностью заменить ресурс.
- `DELETE` — удалить (в задании часто soft-delete — пометка, а не физическое удаление).

## HTTP статус-код

Число в ответе сервера (например, `200`, `201`, `422`). Это «Как обработан запрос?», а не всегда «Как прошла
бизнес-логика?».

## JSON

Формат данных (объекты/массивы), которые передаются в запросах и ответах.

## OpenAPI

Файл-спецификация API: какие эндпоинты есть, какие поля в запросах/ответах, какие коды ошибок.
В задании: `../openapi.yml`.

## JWT (JSON Web Token)

Токен авторизации. Клиент получает его при логине/регистрации и передает в заголовке:
`Authorization: Bearer <token>`.

## HS256

Алгоритм подписи JWT (HMAC-SHA256). Для проверки/подписи нужен общий секрет (`RANDOM_SECRET`).

## Role (роль) / RBAC

Роль пользователя (`USER`, `ADMIN`) определяет, какие запросы ему разрешены.

## UUID

Формат идентификатора (выглядит как `550e8400-e29b-41d4-a716-446655440000`).

## База данных (PostgreSQL)

Хранилище данных, которое сохраняет информацию между перезапусками сервиса.

## Redis

Опциональные хранилища:

- Redis — обычно кэш.

## Docker / docker-compose

Инструменты для запуска приложения и зависимостей в контейнерах.

## Валидация

Проверка входных данных (формат, обязательные поля, диапазоны значений). Невалидный запрос обычно дает `422`.

## Soft-delete

«Удаление» без физического удаления из БД: объект помечается как неактивный (`isActive=false` или `enabled=false`).

## Idempotent (идемпотентность)

Повторный запрос даёт тот же эффект, что и первый (например, повторный `DELETE` уже удаленного ресурса не должен ломать
систему).

## Pagination (пагинация)

Разбиение списка на страницы: параметры `page` и `size`.

## DSL

Domain Specific Language — мини-язык для правил антифрода (например, `amount > 10000 AND currency = 'RUB'`).

## Уровень поддержки (Tier)

В задании DSL можно реализовывать по шагам: сначала самый простой уровень, потом добавлять возможности.  
Слово `Tier` встречается в документах — это просто название.

## Parser (парсер)

Часть программы, которая превращает строку DSL в структуру (например, дерево) для дальнейшего вычисления.

## AST (Abstract Syntax Tree)

«Дерево выражения» DSL — внутренняя структура, в которую программа превращает строку правила.  
Лимит на размер нужен, чтобы обработка очень больших выражений не тормозила и не вешала проверку.

## Воспроизводимость (детерминизм)

Если запрос один и тот же и база данных не менялась, результат должен быть таким же (без рандома и скрытых
зависимостей).

## Остановка на первом совпадении (short-circuit)

Ситуация, когда программа нашла совпадение и прекращает проверку остальных правил.  
В этом задании так делать нельзя — нужно вернуть результаты **для всех** активных правил.

## Side effects (побочные эффекты)

Изменения данных во время проверки: например, правило вдруг меняет пользователя или настройки.  
В этом задании проверка правил не должна менять данные (кроме сохранения самой транзакции и ее результата).

